<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mon Panier â€” VÃ©loKid</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- NAV -->
  <nav class="navbar scrolled" id="navbar">
    <div class="navbar-inner">
      <a href="index.html" class="logo">
        <svg class="logo-svg" viewBox="0 0 52 38" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="11" cy="28" r="8.5" stroke="#FF6B35" stroke-width="2.5"/>
          <circle cx="11" cy="28" r="2.5" fill="#FF6B35"/>
          <circle cx="41" cy="28" r="8.5" stroke="#FF6B35" stroke-width="2.5"/>
          <circle cx="41" cy="28" r="2.5" fill="#FF6B35"/>
          <line x1="11" y1="28" x2="24" y2="28" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="24" y1="28" x2="21" y2="11" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="21" y1="11" x2="35" y2="14" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="24" y1="28" x2="35" y2="14" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="35" y1="14" x2="41" y2="28" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="35" y1="14" x2="35" y2="8" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="31.5" y1="8" x2="39" y2="8" stroke="#FF6B35" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="17.5" y1="10" x2="25" y2="10" stroke="#FF6B35" stroke-width="3" stroke-linecap="round"/>
          <circle cx="24" cy="28" r="3" fill="#FF6B35"/>
        </svg>
        VÃ©lo<span>Kid</span>
      </a>
      <ul class="nav-links">
        <li><a href="index.html"           class="nav-link" data-i18n="nav_home">Accueil</a></li>
        <li><a href="boutique.html"        class="nav-link" data-i18n="nav_shop">Boutique</a></li>
        <li><a href="qui-sommes-nous.html" class="nav-link" data-i18n="nav_about">Qui sommes-nous</a></li>
        <li><a href="contact.html"         class="nav-link" data-i18n="nav_contact">Contact</a></li>
      </ul>
      <div style="display:flex;align-items:center;gap:8px">
        <button class="lang-toggle" id="langToggle" onclick="toggleLanguage()">ğŸ‡¬ğŸ‡§ EN</button>
        <button class="cart-trigger" onclick="showCartDrawer()" title="Panier">
          ğŸ›’<span class="cart-badge" id="cartBadge1">0</span>
        </button>
      </div>
      <button class="hamburger" id="hamburger"><span></span><span></span><span></span></button>
    </div>
  </nav>
  <nav class="mobile-nav" id="mobileNav">
    <a href="index.html"           class="nav-link" data-i18n="nav_home">ğŸ  Accueil</a>
    <a href="boutique.html"        class="nav-link" data-i18n="nav_shop">ğŸš² Boutique</a>
    <a href="qui-sommes-nous.html" class="nav-link" data-i18n="nav_about">ğŸ‘¥ Qui sommes-nous</a>
    <a href="contact.html"         class="nav-link" data-i18n="nav_contact">âœ‰ï¸ Contact</a>
  </nav>

  <!-- HERO -->
  <section class="page-hero">
    <div class="container">
      <div class="breadcrumb">
        <a href="index.html" data-i18n="nav_home">Accueil</a> â€º <span data-i18n="cart_title">Mon panier</span>
      </div>
      <h1 data-i18n="cart_title">Mon panier</h1>
    </div>
  </section>

  <!-- PANIER -->
  <section class="section">
    <div class="container">
      <div id="cartPageContent"></div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <a href="index.html" class="logo">
            <svg class="logo-svg" viewBox="0 0 52 38" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="28" r="8.5" stroke="white" stroke-width="2.5"/>
              <circle cx="11" cy="28" r="2.5" fill="white"/>
              <circle cx="41" cy="28" r="8.5" stroke="white" stroke-width="2.5"/>
              <circle cx="41" cy="28" r="2.5" fill="white"/>
              <line x1="11" y1="28" x2="24" y2="28" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="24" y1="28" x2="21" y2="11" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="21" y1="11" x2="35" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="24" y1="28" x2="35" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="35" y1="14" x2="41" y2="28" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="35" y1="14" x2="35" y2="8" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="31.5" y1="8" x2="39" y2="8" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <line x1="17.5" y1="10" x2="25" y2="10" stroke="white" stroke-width="3" stroke-linecap="round"/>
              <circle cx="24" cy="28" r="3" fill="white"/>
            </svg>
            VÃ©lo<span>Kid</span>
          </a>
          <p data-i18n="footer_desc">SpÃ©cialiste du vÃ©lo enfant depuis 2015.</p>
          <div class="footer-socials">
            <button class="social-btn">f</button><button class="social-btn">ğŸ“·</button>
            <button class="social-btn">â™ª</button><button class="social-btn">â–¶</button>
          </div>
        </div>
        <div class="footer-col"><h4 data-i18n="footer_shop">Boutique</h4>
          <ul class="footer-links">
            <li><a href="boutique.html" data-i18n="footer_all">Tous les vÃ©los</a></li>
            <li><a href="boutique.html" data-i18n="footer_drais">Draisiennes</a></li>
            <li><a href="boutique.html" data-i18n="footer_bmx">BMX & Freestyle</a></li>
          </ul>
        </div>
        <div class="footer-col"><h4 data-i18n="footer_info">Informations</h4>
          <ul class="footer-links">
            <li><a href="qui-sommes-nous.html" data-i18n="footer_about">Qui sommes-nous</a></li>
            <li><a href="contact.html" data-i18n="footer_contact">Contact</a></li>
            <li><a href="cgv.html" data-i18n="footer_cgv">CGV</a></li>
          </ul>
        </div>
        <div class="footer-col"><h4 data-i18n="footer_contact">Contact</h4>
          <ul class="footer-links">
            <li>ğŸ“ 12 rue des Cyclistes, 75011 Paris</li>
            <li>ğŸ“ 01 23 45 67 89</li>
            <li>âœ‰ï¸ bonjour@velokid.fr</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p data-i18n="footer_copy">Â© 2025 VÃ©loKid. Tous droits rÃ©servÃ©s.</p>
        <div class="footer-bottom-links">
          <a href="cgv.html" data-i18n="footer_cgv">CGV</a>
          <a href="mentions-legales.html" data-i18n="footer_legal">Mentions lÃ©gales</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Cart Overlay + Drawer -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <aside class="cart-drawer" id="cartDrawer">
    <div class="cart-drawer-header">
      <h3 data-i18n="cart_drawer_title">Panier</h3>
      <button class="cart-drawer-close" onclick="closeCartDrawer()">âœ•</button>
    </div>
    <div class="cart-drawer-body"></div>
    <div class="cart-drawer-footer"></div>
  </aside>

  <div class="cart-toast" id="cartToast">
    <span class="cart-toast-icon">âœ…</span>
    <span id="cartToastMsg">Produit ajoutÃ© au panier !</span>
  </div>

  <script src="translations.js"></script>
  <script src="cart.js"></script>
  <script src="script.js"></script>
  <script>
  // Render cart page content
  function renderCartPage() {
    const content = document.getElementById('cartPageContent');
    const cart = getCart();
    if (cart.length === 0) {
      content.innerHTML = `
        <div class="cart-empty" style="padding:80px 0">
          <div class="cart-empty-icon" style="font-size:5rem">ğŸ›’</div>
          <h2 style="color:var(--dark);margin-bottom:12px" data-i18n="cart_empty">Votre panier est vide</h2>
          <p data-i18n="cart_empty_desc">DÃ©couvrez nos vÃ©los et ajoutez-en un Ã  votre panier.</p>
          <a href="boutique.html" class="btn btn-primary btn-lg" style="margin-top:24px" data-i18n="nav_shop">Boutique</a>
        </div>`;
      return;
    }
    const total = getTotal();
    const shipping = total >= 99 ? 0 : 9.9;
    const grandTotal = total + shipping;
    content.innerHTML = `
      <div style="display:grid;grid-template-columns:1.6fr 1fr;gap:48px;align-items:start">
        <div>
          <div class="cart-table-wrap">
            <table class="cart-table">
              <thead>
                <tr>
                  <th colspan="2" data-i18n="nav_shop">Produit</th>
                  <th data-i18n="cart_qty">QtÃ©</th>
                  <th>Prix</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="cartTableBody"></tbody>
            </table>
          </div>
          <div style="display:flex;gap:12px;margin-top:24px;flex-wrap:wrap">
            <a href="boutique.html" class="btn btn-outline" data-i18n="cart_continue">Continuer mes achats</a>
            <button class="btn btn-outline" style="color:#EF4444;border-color:#EF4444" onclick="clearCart();renderCartPage()">ğŸ—‘ Vider le panier</button>
          </div>
        </div>
        <div class="cart-summary">
          <h3 data-i18n="order_summary">RÃ©capitulatif</h3>
          <div class="summary-row"><span data-i18n="cart_shipping">Livraison</span><span>${shipping === 0 ? '<span style="color:var(--success)">Gratuite âœ“</span>' : '9,90 â‚¬'}</span></div>
          <div class="summary-row"><span>Sous-total</span><span>${total.toFixed(2)} â‚¬</span></div>
          <div class="summary-row total"><span data-i18n="cart_total">Total</span><span>${grandTotal.toFixed(2)} â‚¬</span></div>
          ${shipping > 0 ? `<p style="font-size:.78rem;color:var(--gray);margin-bottom:16px">Plus que ${(99 - total).toFixed(2)} â‚¬ pour bÃ©nÃ©ficier de la livraison gratuite !</p>` : ''}
          <a href="commande.html" class="btn btn-primary" style="width:100%;justify-content:center;margin-top:8px" data-i18n="cart_checkout">Passer la commande</a>
        </div>
      </div>`;
    // Fill table body
    const tbody = document.getElementById('cartTableBody');
    tbody.innerHTML = cart.map(item => `
      <tr>
        <td><div class="cart-table-img"><img src="${item.img}" alt="${item.name}" loading="lazy"></div></td>
        <td><div class="cart-table-name">${item.name}</div><div class="cart-table-age">${item.age||''}</div></td>
        <td>
          <div class="qty-ctrl">
            <button onclick="updateQty('${item.id}',${item.qty-1});renderCartPage()">âˆ’</button>
            <span>${item.qty}</span>
            <button onclick="updateQty('${item.id}',${item.qty+1});renderCartPage()">+</button>
          </div>
        </td>
        <td style="font-weight:700;color:var(--primary)">${(item.price * item.qty).toFixed(2)} â‚¬</td>
        <td><button onclick="removeItem('${item.id}');renderCartPage()" style="background:none;border:none;cursor:pointer;font-size:1.1rem;color:var(--gray)">ğŸ—‘</button></td>
      </tr>`).join('');
    applyTranslations();
  }
  document.addEventListener('DOMContentLoaded', renderCartPage);
  </script>
</body>
</html>
